{"componentChunkName":"component---src-templates-blog-post-js","path":"/aws-s3-static-website/","result":{"data":{"site":{"siteMetadata":{"title":"Dev Projects Blog"}},"markdownRemark":{"id":"076e8ce7-44bf-5778-8442-e4fe8775532b","excerpt":"I have a personal AWS account, though it hasn't been used in a long time, so it needed a bit of basic housekeeping. Following the dashboard recommendations, Iâ€¦","html":"<p>I have a personal AWS account, though it hasn't been used in a long time, so it needed a bit of basic housekeeping. Following the dashboard recommendations, I removed access keys and enabled MFA on the root account, then enabled an IAM Identity Center directory and created myself a separate IAM account for day-to-day usage. MFA is also required for IAM accounts.</p>\n<p>I anticipate that I will be primarily using the AWS console to familiarise myself with the services and options, but would like to move towards <a href=\"https://www.terraform.io/\">Terraform</a> later.</p>\n<p>So, the first step is creating an simple storage service (S3) bucket. There are <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/bucketnamingrules.html?icmpid=docs_amazons3_console\">bucket naming rules</a> to consider, but the key point being that the name must be globally unique since it will form part of the FQDN used to access it. Next, I've configured <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/EnableWebsiteHosting.html\">static website hosting</a> which provides a website endpoint for the bucket; this is only HTTP and would be better as HTTPS so I will revisit this later.</p>\n<p>For now, I will upload placeholder HTML so that I can focus on all of the cloud infrastructure and DevOps pipelines first then work on the resume content when the automation is all running.</p>\n<p>Public access is blocked on a new bucket by default, but for this project it is safe to make public to all, so I have configured a policy as follows:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n\t<span class=\"token property\">\"Version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2012-10-17\"</span><span class=\"token punctuation\">,</span>\r\n\t<span class=\"token property\">\"Id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"BucketPolicy\"</span><span class=\"token punctuation\">,</span>\r\n\t<span class=\"token property\">\"Statement\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n\t\t<span class=\"token punctuation\">{</span>\r\n\t\t\t<span class=\"token property\">\"Sid\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"AllAccess\"</span><span class=\"token punctuation\">,</span>\r\n\t\t\t<span class=\"token property\">\"Effect\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Allow\"</span><span class=\"token punctuation\">,</span>\r\n\t\t\t<span class=\"token property\">\"Principal\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"*\"</span><span class=\"token punctuation\">,</span>\r\n\t\t\t<span class=\"token property\">\"Action\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"s3:*\"</span><span class=\"token punctuation\">,</span>\r\n\t\t\t<span class=\"token property\">\"Resource\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n\t\t\t\t<span class=\"token string\">\"arn:aws:s3:::bucket-name-here\"</span><span class=\"token punctuation\">,</span>\r\n\t\t\t\t<span class=\"token string\">\"arn:aws:s3:::bucket-name-here/*\"</span>\r\n\t\t\t<span class=\"token punctuation\">]</span>\r\n\t\t<span class=\"token punctuation\">}</span>\r\n\t<span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>And this gives me a publicly accessible static website:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bb92abce90f757e94692b87554b92452/1d69c/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABGElEQVR42rWSS0+DUBCF+SvyMLpQ6w60Vyot4KYFSlF/qyuLW5sUtLe6NG5sU7rE8jwCrVGXVpzky5yZ5JxMci/TaByDkDNoug5ZliGKEiTpBKdNgoPDI7C8AG7DT81jh2XBchx4QajY3dsHQ+QWFEWBqqrQ9Qv0LAe2c42u0S/0AJZ9iZ5pw7BsmH2n6AMY9hU6rTY00sR5u1P4NOgmgSgrYG6HLlzXxf1oBM/z8DihoNNnTOgTaEmh6fSzf2nf9+GNx5WnhNIH3AzvwLyvImRZijzPsW1lG+/rfAFmFcXrZZZtTZKmVcbL2xxMFCf4a+XfL0yS+gIXQVBv4HJZc2AQ/EdgGIaIoujXxMXviOM15Vy+9mw2wwfmfQJZTY0P3wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"S3 Static Website\"\n        title=\"\"\n        src=\"/static/bb92abce90f757e94692b87554b92452/f058b/image.png\"\n        srcset=\"/static/bb92abce90f757e94692b87554b92452/c26ae/image.png 158w,\n/static/bb92abce90f757e94692b87554b92452/6bdcf/image.png 315w,\n/static/bb92abce90f757e94692b87554b92452/f058b/image.png 630w,\n/static/bb92abce90f757e94692b87554b92452/1d69c/image.png 750w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>We're off to a good start.</p>","frontmatter":{"title":"AWS Account and S3 Static Website","date":"March 06, 2024","description":"Setting up the AWS account and S3 bucket."}},"previous":{"fields":{"slug":"/the-cloud-resume-challenge/"},"frontmatter":{"title":"The Cloud Resume Challenge"}},"next":{"fields":{"slug":"/dns-and-https/"},"frontmatter":{"title":"DNS and HTTPS"}}},"pageContext":{"id":"076e8ce7-44bf-5778-8442-e4fe8775532b","previousPostId":"6bab4557-03cd-54f8-9d02-16cd9eb4e00c","nextPostId":"6ac62bd6-ac72-5a49-94d4-5bb894abe327"}},"staticQueryHashes":["2841359383","3274528899"],"slicesMap":{}}